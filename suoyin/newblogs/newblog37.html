<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <link href="../../maychangecss/newblog_nomal.css" type="text/css" rel="stylesheet">
  <title>【LODOP】page-break-after:always不能分页的一种情况</title>
 </head>
 <body>
 <style>
 body{margin:0px;}
.body {width:100%;}
a{text-decoration:none;color:black;}
h1{font-size:1.625em;}
h2{font-size:1.375em;}
/**.box{float:left;}**/
.header_box {width:100%;}
.header{padding:1%;
background-color:#f1f1f1;}
/**border:1px solid #e9e9e9;}**/

.header_bottom{width:100%;}
.menuitem {
    margin-top:0;
    margin-left:0;
    margin-bottom:0;
    padding:1%;
    border-bottom:1px solid #e9e9e9;
    cursor:pointer;
}

.main {padding:1%;}
.main_middle { width:100%;}
.blue{color:#95bfc7;}


.box_footer {width:100%;margin-bottom:0;}
.footer {
    padding:1%;
    text-align:center;
    background-color:#f1f1f1;
    font-size:0.625em;
}

@media only screen and (max-width: 500px) {
    .menu_left{width:100%;}
    .menuitem { margin:1%;padding:1%;}

    .main_middle { width:100%;}
    .main {padding:1%;}

    .box_right {width:100%;}
    .right { padding:1%;
    }

    .box { margin-right:0; float:left; }
}

</style>
<div class="body"><!--body开始-->
        <div class="box header_box"><!--header开始-->
            <div class="header">
                <h1>博文-【LODOP】page-break-after:always不能分页的一种情况</h1>
            </div>
        </div><!--header结束-->
<div class="header_bottom"> 
		   <a href="../../index.html"><div class="menuitem">花谢悦神的主页</div></a>	
		   <a href="../phoneQA004.html"><div class="menuitem">lodop问答主页</div></a> 
		   <a href="../phoneQA_dange.html"><div class="menuitem">问答主页（单个问答链接）</div></a> 
		   <a href="../mini_QAs.html"><div class="menuitem"><span style="color:#ff0099;">迷你一个问答</span></div></a> 
		   <a href="../new_bloglist.html"><div class="menuitem"><span class="newblogfont">新博文newblogs</span></div></a>
</div>
        <div class="box main_middle"><!--main_middle开始-->
            <div class="main">
<h1>【LODOP】【LODOP】打印设计右键属性中 对象类名，关联对象 的作用（文案，初）</h1>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
打印设计选中打印项，右键属性里，有个对象类名和关联对象，这里介绍下两个的作用。<br />这两个并不是绑定数据库字段之类的，和数据绑定无关。<br /><br />一、对象类名<br />lodop技术手册中set_print_stylea有介绍，在给对象加样式，赋值等情况时，一般会用到序号。<br />set_print_stylea第一个参数为类名时，所有同类名的打印项都会被加该样式，或赋该值。<br /><br />set_print_stylea的第一个参数可以指定类名。<br />例如：设置类名后，可以根据类名赋值，同类名的数值都会被替换<br />3.按项目类名赋值,项目类型是aa：<br />LODOP.SET_PRINT_STYLEA(&lsquo;aa&rsquo;,"Content","学生证");//项目类名是aa的所有打印项内容被替换<br /><br />例如：<br />（图）<br /><br />htm和两个text有原始数据，<br />给htm对象取名m1,<br />给两个text对象都取同样的类名a1<br /><br />后面给对象类名为a1的赋值张三<br />给对象类名m1的赋值为一个内容带张三的表格数据<br /><br />截图如图：<br />（图）<br />两个text被这句：<br />LODOP.SET_PRINT_STYLEA("a1","CONTENT","张三");<br />都赋值为了张三<br /><br />m1里的表格也赋值为了新的表格值。<br /><br />修改一下例子，预览下原始数据和赋值后的数据对比下：<br /><br />
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">language</span><span style="color: #0000ff;">="javascript"</span><span style="color: #ff0000;"> src</span><span style="color: #0000ff;">="LodopFuncs.js"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">a </span><span style="color: #ff0000;">href</span><span style="color: #0000ff;">="javascript:prn1_preview()"</span><span style="color: #0000ff;">&gt;</span>打印预览1(原始数据模板)<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">a</span><span style="color: #0000ff;">&gt;&lt;</span><span style="color: #800000;">br</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">a </span><span style="color: #ff0000;">href</span><span style="color: #0000ff;">="javascript:prn2_preview()"</span><span style="color: #0000ff;">&gt;</span>打印预览2(赋值后的)<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">a</span><span style="color: #0000ff;">&gt;&lt;</span><span style="color: #800000;">br</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">language</span><span style="color: #0000ff;">="javascript"</span><span style="color: #ff0000;"> type</span><span style="color: #0000ff;">="text/javascript"</span><span style="color: #0000ff;">&gt;</span>   
        <span style="background-color: #f5f5f5; color: #0000ff;">var</span><span style="background-color: #f5f5f5; color: #000000;"> LODOP; </span><span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;">声明为全局变量 </span>
    <span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> CreatePage() {    
        LODOP.PRINT_INIT(</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">打印控件功能演示_Lodop功能</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">);
        LODOP.ADD_PRINT_HTM(</span><span style="background-color: #f5f5f5; color: #000000;">118</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">47</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">261</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">161</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">&lt;!DOCTYPE&gt;\n&lt;style&gt;table,td{border:1px solid black;}&lt;/style&gt;\n&lt;body style=\"background-color:transparent;margin:0\" &gt;\n&lt;table&gt;\n&lt;tr&gt;\n&lt;td&gt;名字位置1&lt;/td&gt;\n&lt;td&gt;名字位置2&lt;/td&gt;\n&lt;td&gt;预览才看出透明&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;非表格也能透明&lt;/td&gt;\n&lt;td&gt;预览看出透明&lt;/td&gt;\n&lt;td&gt;预览看出透明&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">);
        LODOP.SET_PRINT_STYLEA(</span><span style="background-color: #f5f5f5; color: #000000;">0</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">ItemName</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">m1</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">);
        LODOP.ADD_PRINT_TEXTA(</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">a1</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">40</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">48</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">100</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">20</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">名字1</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">);
        LODOP.ADD_PRINT_TEXTA(</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">a1</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">77</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">47</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">100</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">20</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">名字2</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">);    
    };
    </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> prn1_preview() {    
        CreatePage();
        LODOP.PREVIEW();    
    };
    </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;"> prn2_preview() {    
         CreatePage();
        LODOP.SET_PRINT_STYLEA(</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">a1</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">CONTENT</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">张三</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">);
        LODOP.SET_PRINT_STYLEA(</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">m1</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">CONTENT</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">&lt;!DOCTYPE&gt;\n&lt;style&gt;table,td{border:1px solid black;}&lt;/style&gt;\n&lt;body style=\"background-color:transparent;margin:0\" &gt;\n&lt;table&gt;\n&lt;tr&gt;\n&lt;td&gt;张三透明超文本表格&lt;/td&gt;\n&lt;td&gt;张三预览就看出透明&lt;/td&gt;\n&lt;td&gt;张三预览才看出透明&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;张三非表格也能透明&lt;/td&gt;\n&lt;td&gt;张三预览看出透明&lt;/td&gt;\n&lt;td&gt;张三预览看出透明&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">);
        LODOP.PREVIEW();    
    };
</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span> </pre>
</div>
<p>&nbsp;</p>
<br />修改后，第一个预览是原始数据的<br />第二个是赋值后的<br /><br />如图，两个预览图，可以看到两个同类名的text被赋了相同的值<br />（图）（图）<br /><br />实际使用时，在一个模板中，需要不同值的用不同的名字，<br />需要同样值的，可以用同一个类名。<br />例如一些套打的地方很多需要替换成同一个内容。<br /><br />这里只演示了赋值，也可以设置样式，具体可查看SET_PRINT_STYLEA里的各种可设置的属性。<br /><br />打印模板除了可以用变量赋值，也可以用这种方式替换内容赋值。<br /><br /><br />对象类名怎么设置？<br />LODOP.ADD_PRINT_TEXTA("a1",17,77,100,20,"新加文本");//设置纯文本对象类名为a1<br /><br />LODOP.ADD_PRINT_HTM(84,56,300,100,"（超文本内容）");<br />LODOP.SET_PRINT_STYLEA(0,"ItemName","b2");//设置超文本对象类名为b2<br /><br />（图）<br />打印设计，选中打印项，右键属性里也可以设置<br />设置后可以点打印设计的生成代码<br /><br />对象类名的其他作用：<br />可参考样例26，打印维护，同类名的都会被维护<br /><img src="file:///C:\Users\Administrator\AppData\Roaming\Tencent\QQTempSys\%W@GJ$ACOF(TYDYECOKVDYB.png" />http://www.c-lodop.com/demolist/PrintSample26.html<br /><br />样例26代码里一个任务循环了多页，当维护时，只维护了一页，同类名多页的的都会被维护了。（注意是同一个任务中）<br /><br />二、关联对象<br />关联是打印项之间定位的。&nbsp;参考样例41，<img src="file:///C:\Users\Administrator\AppData\Roaming\Tencent\QQTempSys\%W@GJ$ACOF(TYDYECOKVDYB.png" />http://www.c-lodop.com/demolist/PrintSample41.html<br />一个内容关联别人后，其Top值不再是上边距，而是与被关联者的间隙距离,Left值也变为左边距相对偏离量。<br /><br />样例41，后面两个text关联第一个table打印项，这样table打印项无论数据多少，数据如何变化，都会跟着这两个text<br />且这两个text和table之间的距离是顶边距15，左边距一个是50，一个是300<br />关联表格后，ADD_PRINT_TEXT的第一个参数就不是距离纸张顶边距了，第二个参数也不是距离纸张左边距了，都是相对于table这个打印项的偏移值。<br /><br />代码：<br />图：1也可以<br />图：<br /><br />样例演示的是text关联表格，跟着表格输出，当然也可以表格关联表格，两个表格顺序输出<br /><br />例如改一下代码，两个表格，第二个表格跟着第一个表格，中间间隔10，<br /><br />两个表格左边距相同，因为第二个表格关联了第一个表格，所以第二参数是相对于第一个表格的偏移量，而不是纸张的左边距，所以改成0，这样两个表格就可以左边距对齐了。<br /><br />效果如图，第二个表格跟着第一个表格，中间间隔10<br />（图）<br /><br />关联对象的其他作用：<br />见样例43，可以看到<br />每个发货单都用div2当主体表格，该表格因超出纸高被自动分页，其它带颜色的div分别作为它们的页眉页脚<br />用NewPageA对两个发货单进行了分页，眉脚对象与主体表格进行了关联<br /><br />默认页眉页脚是每页输出，<br />但眉脚对象关联了各自的表格，这样每个页眉页脚项跟着表格输出。每个表格带着各自的眉角。<br />蓝色的是第一个表格的眉脚，红色的是第二个表格的眉脚。
</div>
</div>
    </div><!--main_middle结束-->

        <div class="box box_footer"><!--box_footer开始-->
            <div class="footer">
<p>lodop简短问答页面.</p>
            </div>
        </div><!--box_footer结束-->
</div><!--body结束-->
 </body>
</html>
