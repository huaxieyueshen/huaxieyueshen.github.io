<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <link href="../../maychangecss/newblog_nomal.css" type="text/css" rel="stylesheet">
  <title>【LODOP】ip或域名注册号无效的一些排查</title>
 </head>
 <body>
 <style>
 body{margin:0px;}
.body {width:100%;}
a{text-decoration:none;color:black;}
h1{font-size:1.625em;}
h2{font-size:1.375em;}
/**.box{float:left;}**/
.header_box {width:100%;}
.header{padding:1%;
background-color:#f1f1f1;}
/**border:1px solid #e9e9e9;}**/

.header_bottom{width:100%;}
.menuitem {
    margin-top:0;
    margin-left:0;
    margin-bottom:0;
    padding:1%;
    border-bottom:1px solid #e9e9e9;
    cursor:pointer;
}

.main {padding:1%;}
.main_middle { width:100%;}
.blue{color:#95bfc7;}


.box_footer {width:100%;margin-bottom:0;}
.footer {
    padding:1%;
    text-align:center;
    background-color:#f1f1f1;
    font-size:0.625em;
}

@media only screen and (max-width: 500px) {
    .menu_left{width:100%;}
    .menuitem { margin:1%;padding:1%;}

    .main_middle { width:100%;}
    .main {padding:1%;}

    .box_right {width:100%;}
    .right { padding:1%;
    }

    .box { margin-right:0; float:left; }
}

</style>
<div class="body"><!--body开始-->
        <div class="box header_box"><!--header开始-->
            <div class="header">
                <h1>博文-【LODOP】ip或域名注册号无效的一些排查</h1>
            </div>
        </div><!--header结束-->
<div class="header_bottom"> 
		   <a href="../../index.html"><div class="menuitem">花谢悦神的主页</div></a>	
		   <a href="../phoneQA004.html"><div class="menuitem">lodop问答主页</div></a> 
		   <a href="../phoneQA_dange.html"><div class="menuitem">问答主页（单个问答链接）</div></a> 
		   <a href="../mini_QAs.html"><div class="menuitem"><span style="color:#ff0099;">迷你一个问答</span></div></a> 
		   <a href="../new_bloglist.html"><div class="menuitem"><span class="newblogfont">新博文newblogs</span></div></a>
</div>
        <div class="box main_middle"><!--main_middle开始-->
            <div class="main">
<h1>【LODOP】ip或域名注册号无效的一些排查（文案，初）</h1>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>LODOP中，如果客户端是访问网站后，在自己的电脑的打印机上打印，属于第一种角色。<br />客户端本地打印角色时，如果想去掉直接打印的水印，可以按照访问地址ip或域名注册，或公司名注册。<br />此视频介绍一下ip或域名注册号无效的一些排查方法</p>
<p>（图）<br />（公司名注册，在其他视频中，可查看西瓜视频 花小克，对应的相关合集）</p>
<p>1.浏览器地址栏和注册地址不一致。</p>
<p>如果是ip或域名注册类型，<br />访问的是否是注册的ip或域名，浏览器地址栏输入的是否是注册的ip或域名，<br />（1）.单独注册服务器ip地址，登陆访问方式是ip地址访问，例如：注册ip地址：192.168.0.1，登陆方式如下<br />：http：//192.168.0.1:8000/index.jsp等，域名访问时，注册信息无效。<br />（2）.单独注册域名：登陆访问方式是域名地址访问，例如：注册域名： www.c-lodop.com 登陆方式如下<br />：http://www.c-lodop.com/index.html等，ip地址访问时，注册信息无效</p>
<p>注意：<br />说明1:这里指的的是打印所在页面浏览器地址栏的地址，并不是clodopFuncs.js的地址。<br />也就是客户访问网站时，浏览器地址栏输入的地址。</p>
<p>说明2：访问哪个地址注册哪个，如果是域名访问方式，ip注册是无效的，和是哪个ip映射的这个域名无关。<br />例如，官网样例http://www.c-lodop.com/demolist/PrintSample2.html<br />这个可以注册c-lodop.com，如果是注册该域名背后的ip，是无效的，域名访问只能注册域名。</p>
<p>说明3：这里指的是客户端本地打印角色，如果是集中打印或AO打印远程方式的，则需要购买的是另一种。<br />三种角色及使用方法：<br />参考http://www.c-lodop.com/demolist/t1.html<br />关于角色，之前视频里有介绍。</p>
<p>支持C-Lodop本机角色功能<br />（注：本注册是指web服务器IP地址访问方式）</p>
<p>说明4：截止视频发布时间，目前有甲类和乙类注册<br />甲类是客户端是windows系统的。<br />如果客户端是linux桌面版，例如一些国产操作系统，则需要购买乙类注册，如果两种都有，都需要购买。</p>
<p>常见问题：<br />问题（1）.注册的是某域名，在本地测试的，没有发布到自己的域名上，浏览器地址栏不是注册的地址。<br />问题（2）.购买的是ip注册，实际是域名访问方式，误以为注册解析到该域名的ip可以用，浏览器地址栏不是注册的地址。<br />问题（3）.误认为是clodopFuncs.js的地址，不是注册的网站的访问地址<br />问题（4）.注册域名较长，购买时有中间字母错误，注册域名和实际使用访问的域名不一致<br />问题（5）.注册的域名填写时有空格，例如.com和之前的字母之间有空格，注册域名和实际使用访问的域名不一致</p>
<p>2.注册语句执行问题。<br />（1）注册语句放到lodoFuncs.js里，页面使用时没有在任务里调用getLodop，在打印方法外调用<br />（2）误认为调用一次注册一下就行了，调用一次后把注册语句注释掉了，没有每次打印时调用<br />（3）页面引用了包含注册语句的lodopFuncs.js，但页面通过c-lodop端口调用了clodopFuncs.js，代码里没走带注册语句的getLodop方法。<br />（4）页面引用了包含注册语句的lodopFuncs.js，页面调用的是getClodop，是clodopFuncs.js里的方法。<br />（5）页面引用了包含注册语句的lodopFuncs.js，页面还引用了obj的lodop插件对象，最后走的是插件方式，没走lodopFuncs.js里的getLodop方法。<br />（6）.......（其他各种执行原因，如调用多个lodop对象等...)<br />（7）浏览器换成问题，加上了注册语句，但缓存还是旧的JS，导致实际没后执行注册语句</p>
<p>测试是否和执行有关：<br />先确保该注册语句执行了，每个打印方法里都要执行。<br />可以先做个简单例子测试下，<br />例如：<br />LODOP.PRINT_INIT("打印任务名");<br />LODOP.ADD_PRINT_TEXT(0,0,100,20,"文本内容一");<br />LODOP.SET_LICENSES........<br />LODOP.PRINT();<br />直接放到PRINT()语句前面测试下。</p>
<p>如果是缓存问题，一些现象：<br />（1）加上注册语句了，还有水印，浏览器缓存走的之前没有调用注册语句的旧的JS（现象）<br />（2）加上注册语句了，调试JS，发现JS注册语句消失了，JS里是有的，缓存走的旧的JS（现象）<br />（3）加上注册语句后，有的客户去掉水印了，个别客户还有水印，有的客户没刷新页面，清理缓存，走的缓存（现象）</p>
<p>其他情况：<br />代码里有多个注册语句，之后执行了其他注册语句，冲掉了之前的语句。</p>
<p>上面两种是最常见的可能：<br />1、浏览器地址栏和注册地址不一致<br />2、注册语句因一些原因没有执行</p>
<p>正常情况下，只要浏览器地址栏是对应的注册地址，且注册语句每次都执行了，就可以去掉水印</p>
<p>下面是一些不太常见，但也可能的情况&gt;&gt;&gt;</p>
<p>3.注册语句书写错误<br />（1）不是复制的邮箱里的语句，误把字母O写成数字0，造成注册语句里的注册码是错的<br />（2）不是复制的邮箱里的语句，LODOP.SET_LICENSES的下划线误写为两个下划线<br />（3）公司名称注册，公司改名了，随意改动了注册语句里的公司名参数<br />（4）公司名顶级中繁硬三个公司名注册，两个注册语句，第二个是英文注册语句，误以为本机是简体中文的，没有加第二个注册语句。<br />（5）语句里注册码错误，由于之前购买人离职，公司人员变动，人为故意留错注册码等造成。<br />（6）ip域名注册，却在语句里自己加了公司名参数<br />（7）注册语句加了空格或缺少空格，不是复制邮箱里的语句。（这种情况可能会表现为预览下方显示注册公司名，看上去注册生效了，也确实是顶级公司名注册语句，但打印pdf有提示需要顶级注册的弹窗。去掉空格，直接复制邮箱语句即可）</p>
<p>解决方法：<br />直接复制收注册号邮箱里的语句，不要自己修改参数，不要自己录入参数</p>
<p>4.很久以前的注册（例如11年之前的），使用了c-lodop<br />由于lodop很久以前只有插件方式，当时并没有推出c-lodop，c-lodop在当时属于未来功能。<br />原注册号只是针对lodop插件方式的。</p>
<p>5.安装版本太低，例如：安装的是lodop插件旧版本6198<br />（1）安装插件版本是6198，很早之前的客户，用的是只用插件方式，未升级过c-lodop，域名注册号无效<br />（2）注册语句书写正确，访问域名正确，执行正确，水印里带6198试用版字样<br />收注册号邮箱里会说明该注册号对多少版本之后的版本有效，如果出现问题，可安装最新版对比下。</p>
<p>6.LodopFuncs.js文件的编码方式与页面编码不一致（例如UTF-8，此时可以用记事本软件把该js文件另存为UTF-8编码）。</p>
<p>7.打印设计和打印维护关于按钮隐藏，打印机打印有水印<br />个别打印机的缓存机制在捣乱，目前发现有些打印机会重复输出旧的打印任务，这应该属于打印机故障范畴(很奇葩的故障)，但会严重影响注册号的测试认定。如果以上所有步骤都排查无误，而且打印维护的&ldquo;关于&rdquo;按钮也看不到了，真实打印仍有水印时，建议您重启一下该打印机。</p>
<p>8.原本普通注册，但打印程序调用了高级注册的特殊语句，例如类似下面语句：<br />        SET_PRINT_STYLEA(0,"AngleOfPageInside",-90);<br />        SET_PRINT_MODE("FULL_WIDTH_FOR_OVERFLOW",true);<br />        SET_PRINT_MODE("FULL_HEIGHT_FOR_OVERFLOW",true);<br />        SET_PRINT_MODE("TEXT_ONLY_MODE",true);<br />        (这种情况的水印会有&ldquo;去掉本水印需高级注册&rdquo;字样)</p>
<p>截止视频发布时间，新版的价格表，目前没有普通注册了，只有高级和顶级类型，普通注册一般是很久之前的注册号，如果是这种，水印里有&lsquo;高级&rsquo;字样。</p>
<p>常见排序：<br />ip和域名注册，客户端本地打印角色，正常只要浏览器地址栏是注册地址，且注册号每次打印都执行了，就可以去掉水印。</p>
<p>一些疏忽导致没去掉水印的问题，常见排序：<br />1.浏览器地址栏不是注册地址<br />常见注意事项：<br />（1）域名访问必须注册域名，注册该域名解析的ip是无效的。<br />（2）浏览器地址栏必须是注册地址，如果是未发布网站，本机调试，访问localhost或127.0.0.1等是无效的。<br />（3）注册错了域名，域名有空格或域名不正确。</p>
<p>其他：<br />打印所在页面浏览器地址栏地址，把lodopfuncs.js放到某一个域名下，其他域名都引用这个域名的JS，这种是无效的，和JS文件地址无关，和打印所在页面浏览器地址栏地址有关。</p>
<p>2.注册语句执行问题<br />常见注意事项：<br />（1）页面有多个lodop引用方法，在lodopFuncs.js加了注册语句，但因一些原因没每次都走到。<br />（2）误认为注册语句执行一次就行了，执行一次后注释掉了注册语句。<br />（3）加上了注册语句，浏览器缓存导致走的旧的页面JS，缓存导致没执行。</p>
<p>3.书写错误（不是复制的收注册号的邮箱）<br />（1）手机邮箱收的，手动打到电脑上，误把字母O写成数字0<br />（2）SET_LICENSES下划线错误，缺少或增加空格，域名或Ip注册增加了公司名参数等</p>
<p>4.安装版本较低<br />（1）低于注册号生效的版本，可以安装最新版对比</p>
<p>5.JS编码问题<br />js编码问题，注册语句放在JS文件里，编码方式与页面编码不一致<br />LodopFuncs.js文件的编码方式与页面编码不一致（例如UTF-8，此时可以用记事本软件把该js文件另存为UTF-8编码）。</p>
<p>6.个别打印机存在问题<br />个别打印机的缓存机制在捣乱，目前发现有些打印机会重复输出旧的打印任务，<br />可重启打印机测试</p>
<p>如果是新加上注册号，一般是浏览器缓存问题，清理浏览器缓存，刷新页面<br />由于开发一般本地开发，后期发布，前期在本地访问测试，所以查看浏览器地址栏是否是注册地址</p>
<p>&nbsp;</p>
</div>
</div>
    </div><!--main_middle结束-->

        <div class="box box_footer"><!--box_footer开始-->
            <div class="footer">
<p>lodop简短问答页面.</p>
            </div>
        </div><!--box_footer结束-->
</div><!--body结束-->
 </body>
</html>
